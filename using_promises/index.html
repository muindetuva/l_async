<!DOCTYPE html>
<html>

<head>
    <title>Promise Example</title>
</head>

<body>
    <button onclick="doFileThings()">Download File</button>
    <button onclick="nonBlockingAlert()">Click Me Quickly!</button>
    <script>
        function downloadFile() {
            return new Promise((resolve) => {
                // 3 states: Pending, Fulfilled, Rejected
                setTimeout(() => {
                    console.log('File downloaded');
                    let file = "Downloaded File";
                    resolve(file);
                }, 5000);
            });
        }

        function processFile(file) {
            console.log('Processing file:', file);
            return "Processed File";
        }

        function doFileThings() {
            downloadFile()
                .then(processFile)
                .catch(error => {
                    console.error('Error:', error);  // Handle any errors
                });
        }

        function nonBlockingAlert() {
            alert('You clicked me!');
        }
    </script>
</body>

</html>